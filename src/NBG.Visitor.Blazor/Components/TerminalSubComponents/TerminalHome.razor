@using MudBlazor;

<MudGrid Justify=Justify.Center Class="center" Style="height: 88%;">
    <MudItem lg=7>
        <MudGrid Justify=Justify.Center Style="text-align: center;">
            <MudItem xs=12 Class="mb-4">
                <MudText Typo="Typo.h1">@Loc["Welcome"]</MudText>
            </MudItem>
            <MudItem xs=5>
                <MudButton Style="padding: 0;" OnClick=@(() => ChangeLang("de-DE"))><img class="flag" src="_content/NBG.Visitor.Blazor/images/german.jpg"/></MudButton>
            </MudItem>
            <MudItem xs=5>
                <MudButton Style="padding: 0;" OnClick=@(() => ChangeLang("en-US"))><img class="flag" src="_content/NBG.Visitor.Blazor/images/english.jpg"/></MudButton>
            </MudItem>
            <MudItem xs=12 Class="mt-4">
                <MudButton Class="touchscreen-button" OnClick=@(async () => await OnNext.InvokeAsync()) Variant=Variant.Filled Size=Size.Large Color=Color.Primary EndIcon=@Icons.Outlined.ArrowForward>@Loc["Register"]</MudButton>
            </MudItem>
        </MudGrid>
    </MudItem>
</MudGrid>

<TerminalFooter ShowLanguageSelection=false>
    <CenterItem>
        <MudText Typo=Typo.h4>
            @Loc["QRSigninHint"]
        </MudText>
    </CenterItem>
</TerminalFooter>

@code {
    [CascadingParameter]
    public Localizer Loc { get; set; }

    [Parameter]
    public EventCallback OnNext { get; set; }

    public void ChangeLang(string to)
    {
        Loc.Culture = new(to);
        StateHasChanged();
    }
}